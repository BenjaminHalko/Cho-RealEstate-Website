<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/header'); %>
    <link rel="stylesheet" href="/css/presale.css">
    <script src="/js/_location_card.js"></script>
    <script src="/js/presale.js"></script>
    <title>Presales - Kitty Cho | PREC</title>
    <meta property="og:title" content="Presales"/>
    <meta property="og:url" content="https://kittycho.ca/presales/">
    <meta property="og:image" content="https://kittycho.ca/images/<%= featured.id %>/<%= featured.card_image %>"/>
</head>
<body>
    <!-- Navbar -->
    <%- include('../partials/navbar'); %>

    <!-- Main -->
    <div class="main">
        <%- include('../partials/background', {background: featured}); %>
        <div class="main-content">
            <div class="catagories">
                <% for(const [catagoryName, catagoryData] of locations) {
                    let catagoryID = catagoryName.replace(' ', '-').toLowerCase();
                %>
                    <a class="catagoryButton" id="<%= catagoryID %>_button">
                        <h1><%= catagoryName %></h1>
                    </a>
                <% } %>
            </div>

            <% for(const [catagoryName, catagoryData] of locations) {
                let catagoryID = catagoryName.replace(' ', '-').toLowerCase();
            %>
            <div class="catagory collapse" id="<%= catagoryID %>">
                <% if(catagoryName == 'Featured') { %>
                    <h1 class="header"><span class="deco">————</span>— Featured —<span class="deco">————</span></h1>
                    <div class="group d-flex flex-wrap justify-content-center">
                        <% for (location of catagoryData) { %>
                        <%- include('../partials/location_card', {location: location, partialFeature: true}); %>
                        <% } %>
                    </div>
                <% } else {
                    for (const [subCatagory, locationList] of catagoryData) { %>
                        <h1 class="header"><span class="deco">————</span>— <%= subCatagory %> —<span class="deco">————</span></h1>
                        <div class="group d-flex flex-wrap justify-content-center">
                            <% for (location of locationList) { %>
                            <%- include('../partials/location_card', {location: location}); %>
                            <% } %>
                        </div>
                    <% }
                } %>
            </div>
            <% } %>
        </div>
    </div>

    <!-- Footer -->
    <%- include('../partials/footer'); %>
</body>
</html>