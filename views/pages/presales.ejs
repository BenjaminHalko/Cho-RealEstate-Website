<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/header'); %>
    <link rel="stylesheet" href="/css/presale.css">
    <script src="/js/_location_card.js"></script>
    <script src="/js/presale.js"></script>
    <title>Presales - Kitty Cho | Personal Real Estate Corporation</title>
</head>
<body>
    <!-- Navbar -->
    <%- include('../partials/navbar'); %>

    <!-- Main -->
    <div class="main">
        <%- include('../partials/background', {background: featured}); %>
        <div class="main-content">
            <%
                const locations_sorted = {};    
                for (const [place, location] of Object.entries(locations)) {
                if (locations_sorted[location.location] == undefined) {
                    locations_sorted[location.location] = [location];
                } else {
                    locations_sorted[location.location].push(location);
                }
            } %>

            <% for (const [place, location_list] of Object.entries(locations_sorted)) { %>
            <h1 class="header" id="<%- place.replaceAll(' ','_') %>"><%- place %><a href="#<%- place.replaceAll(' ','_') %>"><svg width="30px" height="30px"><use xlink:href="/svg/link-45deg.svg#id"/></svg></a></h1>
            <div class="group d-flex flex-wrap justify-content-center">
            <% for (location of location_list) { %>
            <%- include('../partials/location_card', {location: location}); %>
            <% } %>
            </div>
            <% } %>
        </div>
    </div>
</body>